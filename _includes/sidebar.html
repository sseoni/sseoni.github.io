<aside class="sidebar">
  <button class="sidebar-toggle" onclick="toggleSidebar()">
      Categories
  </button>

  <div class="sidebar-content" id="sidebarContent">
      
      {% for section in site.data.sidebar %}
      <div class="sidebar-section">
          
          <h3 class="sidebar-heading">
              {% if section.url %}
                  <a href="{{ section.url }}" 
                     class="{% if page.url == section.url %}active{% endif %}">
                     {{ section.title }}
                  </a>
              {% else %}
                  {{ section.title }}
              {% endif %}
          </h3>

          {% if section.items %}
          <ul class="sidebar-list">
              {% for item in section.items %}
              <li>
                  <a href="{{ item.url }}" 
                     class="sidebar-link {% if page.url contains item.url %}active{% endif %}"
                     {% if item.new_tab %}target="_blank" rel="noopener noreferrer"{% endif %}>
                     {{ item.title }}
                  </a>
              </li>
              {% endfor %}
          </ul>
          {% endif %}

      </div>
      {% endfor %}
      
  </div>
</aside>

<script>
function toggleSidebar() {
  document.getElementById('sidebarContent').classList.toggle('open');
  document.querySelector('.sidebar-toggle').classList.toggle('open');
}
</script>