<!--
필수
 -  
    카드에 뿌려줄 데이터
    site.posts, site.data.portfolio.awards 등
 - title
    섹션의 큰 제목
    ""Projects"", ""Awards"", ""Educations"" 등
 - section-type
    전체적인 배치 모양 결정
    ""column"" (portfolio용 2단)
    ""row"" (일반형 1단)"

선택 (생략시 default 사용)
 - grid-type
    ""grid-1""(default)
    ""grid-4"" (카드4개 수평배치)
 - card-type
    ""underline""(default: 밑줄형, 이미지 가능)
    ""stroke"" (박스형, 이미지 불가)
 - viewall-url
    제목 옆 'View All →' 버튼 링크
 - align-title
    ""title-left""(default)
    ""title-center""
-->

{% assign layout_type = include.section-type | default: "row" %}
{% assign grid_class = include.grid-type | default: "grid-1" %}
{% assign align_class = include.align-title | default: "title-left" %}
{% assign card_style = include.card-type | default: "underline" %}

{% capture cards_content %}
    <div class="{{ grid_class }}">
        {% for item in include.items %}
            <a {% if item.url %} href="{{ item.url }}" {% endif %}
                class="card card-{{ card_style }} card-row blog-post-card" 
                data-category="{{ item.categories | join: ' ' | downcase }}">

                <div class="card-content">
                    <h3 class="card-title">{{ item.title }}</h3>
                    
                    <p class="card-body">
                        {% if item.description %}
                            {{ item.description | newline_to_br }}
                        {% else %}
                            {{ item.excerpt | strip_html | truncate: 150 }}
                        {% endif %}
                    </p>

                    {% if item.tags.size > 0 %}
                        <div class="card-tags">
                            {% for tag in item.tags %}
                                <span class="tag-item">#{{ tag }}</span>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>

                {% if item.image and card_style != 'stroke' %}
                    <img src="{{ item.image }}" class="card-thumbnail" alt="{{ item.title }}">
                {% endif %}
            </a>
        {% endfor %}
    </div>
{% endcapture %}


<section class="section">
    {% if layout_type == "column" %}
        <div class="grid-title"> 
            <div class="resume-left">
                <h2 class="heading {{ align_class }}">{{ include.title }}</h2>
                {% if include.viewall-url %}
                    <a href="{{ include.viewall-url }}" class="body-small">view All →</a>
                {% endif %}
            </div>
            <div class="resume-right">
                {{ cards_content }}
            </div> 
        </div>
    {% else %}
        <div class="section-header">
            <h2 class="{{ align_class }}">{{ include.title }}</h2>
            {% if include.viewall-url %}
                <a href="{{ include.viewall-url }}" class="view-all">view All →</a>
            {% endif %}
        </div>
        {{ cards_content }}
    {% endif %}
</section>